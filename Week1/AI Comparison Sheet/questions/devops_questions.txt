===========================================
INFRASTRUCTURE AUTOMATION (DevOps) QUESTIONS
===========================================

QUESTION 1: Docker Multi-Stage Build
-------------------------------------
Create a Dockerfile for a Python Flask application that:
- Uses multi-stage builds (builder + production)
- Base image: python:3.11-slim
- Installs dependencies from requirements.txt
- Copies application code
- Runs as non-root user
- Exposes port 5000
- Includes health check endpoint
- Optimizes layer caching
- Sets proper environment variables

Expected: Production-ready Dockerfile with security best practices


QUESTION 2: Kubernetes Deployment
----------------------------------
Create a Kubernetes YAML configuration that includes:
- Deployment with 3 replicas for a web application
- Service (LoadBalancer or ClusterIP)
- ConfigMap for environment variables
- Liveness and readiness probes
- Resource limits (CPU: 500m, Memory: 512Mi)
- Resource requests (CPU: 250m, Memory: 256Mi)
- Rolling update strategy
- Pod anti-affinity rules (spread across nodes)

Expected: Complete K8s manifest with best practices


QUESTION 3: GitHub Actions CI/CD Pipeline
------------------------------------------
Create a GitHub Actions workflow that:
- Triggers on push to main branch and pull requests
- Runs on: ubuntu-latest
- Steps:
  1. Checkout code
  2. Set up Python 3.11
  3. Install dependencies
  4. Run linting (flake8 or pylint)
  5. Run unit tests with pytest
  6. Build Docker image
  7. Push image to Docker Hub (only on main branch)
  8. Deploy to production (only on main branch)
- Uses secrets for credentials
- Includes caching for dependencies

Expected: Complete CI/CD workflow with proper stages
